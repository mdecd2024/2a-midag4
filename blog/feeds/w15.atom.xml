<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>2A-MIDAG4å”åŒç”¢å“è¨­è¨ˆå¯¦ç¿’ - w15</title><link href="./" rel="alternate"></link><link href="./feeds/w15.atom.xml" rel="self"></link><id>./</id><updated>2024-06-21T05:34:18+08:00</updated><entry><title>w15</title><link href="./41123111-2024-week-15-%E7%B6%B2%E8%AA%8C%F0%9F%98%81.html" rel="alternate"></link><published>2024-05-31T11:00:00+08:00</published><updated>2024-06-21T05:34:18+08:00</updated><author><name>41123111</name></author><id>tag:None,2024-05-31:./41123111-2024-week-15-ç¶²èªŒğŸ˜.html</id><summary type="html">&lt;p&gt;èˆ‡chatgptè¨è«–ç¶²éš›ç¶œåˆçƒé¡ç«¶è³½æ©Ÿå™¨äººçš„ç¨‹å¼:
from zmqRemoteApi import RemoteAPIClient
import keyboard
import math
import time&lt;/p&gt;
&lt;p&gt;client = RemoteAPIClient('localhost', 23000)&lt;/p&gt;
&lt;p&gt;print('Program started')
sim = client.getObject('sim')&lt;/p&gt;
&lt;p&gt;print('Simulation started')&lt;/p&gt;
&lt;h1&gt;ä»åœºæ™¯ä¸­è·å– a_player1, Sphere å’Œ sensor3&lt;/h1&gt;
&lt;p&gt;a_player1 = sim.getObject('/a_player1')
Sphere = sim.getObject('/Sphere')
sensor3 = sim.getObject('/sensor3')&lt;/p&gt;
&lt;h1&gt;å®šä¹‰ â€¦&lt;/h1&gt;</summary><content type="html">&lt;p&gt;èˆ‡chatgptè¨è«–ç¶²éš›ç¶œåˆçƒé¡ç«¶è³½æ©Ÿå™¨äººçš„ç¨‹å¼:
from zmqRemoteApi import RemoteAPIClient
import keyboard
import math
import time&lt;/p&gt;
&lt;p&gt;client = RemoteAPIClient('localhost', 23000)&lt;/p&gt;
&lt;p&gt;print('Program started')
sim = client.getObject('sim')&lt;/p&gt;
&lt;p&gt;print('Simulation started')&lt;/p&gt;
&lt;h1&gt;ä»åœºæ™¯ä¸­è·å– a_player1, Sphere å’Œ sensor3&lt;/h1&gt;
&lt;p&gt;a_player1 = sim.getObject('/a_player1')
Sphere = sim.getObject('/Sphere')
sensor3 = sim.getObject('/sensor3')&lt;/p&gt;
&lt;h1&gt;å®šä¹‰å°†çƒæ”¾åœ¨çƒå‘˜å¤´ä¸Šçš„åŠŸèƒ½&lt;/h1&gt;
&lt;p&gt;def place_ball_on_head():
    try:
        # è·å–çƒå‘˜çš„ä½ç½®
        player_position = sim.getObjectPosition(a_player1, -1)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    # è®¡ç®—çƒçš„ä½ç½®ï¼Œåœ¨çƒå‘˜çš„å¤´ä¸Šæ–¹
    head_position = [
        player_position[0],  # åœ¨ x è½´ä¸Šä¿æŒä¸å˜
        player_position[1],  # åœ¨ y è½´ä¸Šä¿æŒä¸å˜
        player_position[2] + 0.3  # åœ¨ z è½´ä¸Šç•¥å¾®æŠ¬é«˜
    ]

    # è®¾ç½®çƒçš„ä½ç½®
    sim.setObjectPosition(Sphere, -1, head_position)
    print(&amp;quot;Ball placed on the player&amp;#39;s head.&amp;quot;)

except Exception as e:
    print(f&amp;quot;Error while placing ball on head: {e}&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;å®šä¹‰æŠ•ç¯®åŠŸèƒ½&lt;/h1&gt;
&lt;p&gt;def shoot():
    try:
        # è·å–çƒçš„ä½ç½®
        ball_position = sim.getObjectPosition(Sphere, -1)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    # è®¾ç½®çƒçš„åˆå§‹é€Ÿåº¦ï¼Œä½¿å…¶å…·æœ‰æ‹‹ç‰©çº¿è¿åŠ¨
    throw_force = 90.0
    pitch_angle = 45.0 &lt;span class="gs"&gt;* math.pi / 180  # æŠ•ç¯®è§’åº¦å›ºå®šåœ¨45åº¦&lt;/span&gt;
&lt;span class="gs"&gt;    force_vector = [&lt;/span&gt;
&lt;span class="gs"&gt;        0,  # åœ¨ x è½´ä¸ŠåŠ›ä¸º0&lt;/span&gt;
&lt;span class="gs"&gt;        throw_force *&lt;/span&gt; math.cos(pitch_angle),  # åœ¨ y è½´ä¸Šçš„åŠ›
        throw_force * math.sin(pitch_angle)  # åœ¨ z è½´ä¸Šçš„åŠ›ï¼Œå‘ä¸Š
    ]

    # å¯¹çƒæ–½åŠ åŠ›
    sim.addForceAndTorque(Sphere, force_vector, [0, 0, 0])
    print(&amp;quot;Ball thrown with force.&amp;quot;)

except Exception as e:
    print(f&amp;quot;Error while shooting: {e}&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;å®šä¹‰æ§åˆ¶çƒå‘˜ç§»åŠ¨çš„å‡½æ•°&lt;/h1&gt;
&lt;p&gt;def move_player(direction):
    speed = 0.05  # çƒå‘˜ç§»åŠ¨é€Ÿåº¦
    # æ ¹æ®æ–¹å‘è®¡ç®—ç§»åŠ¨å¢é‡
    if direction == 's':
        delta_position = [speed, 0, 0]  # åœ¨ x è½´ä¸Šå‘å‰ç§»åŠ¨
    elif direction == 'w':
        delta_position = [-speed, 0, 0]  # åœ¨ x è½´ä¸Šå‘åç§»åŠ¨
    elif direction == 'd':
        delta_position = [0, speed, 0]  # åœ¨ y è½´ä¸Šå‘å³ç§»åŠ¨
    elif direction == 'a':
        delta_position = [0, -speed, 0]  # åœ¨ y è½´ä¸Šå‘å·¦ç§»åŠ¨
    else:
        delta_position = [0, 0, 0]  # ä¸ç§»åŠ¨&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gh"&gt;#&lt;/span&gt; è·å–å½“å‰çƒå‘˜ä½ç½®
current_position = sim.getObjectPosition(a_player1, -1)
&lt;span class="gh"&gt;#&lt;/span&gt; è®¡ç®—æ–°çš„ä½ç½®
new_position = [current_position[0] + delta_position[0], current_position[1] + delta_position[1], current_position[2] + delta_position[2]]
&lt;span class="gh"&gt;#&lt;/span&gt; æ›´æ–°çƒå‘˜ä½ç½®
sim.setObjectPosition(a_player1, -1, new_position)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;ä¸»å¾ªç¯ï¼Œç›‘å¬é”®ç›˜è¾“å…¥&lt;/h1&gt;
&lt;p&gt;while True:
    try:
        # ç›‘å¬é”®ç›˜è¾“å…¥ï¼Œæ ¹æ®æŒ‰é”®æ§åˆ¶çƒå‘˜ç§»åŠ¨
        if keyboard.is_pressed('s'):
            move_player('s')
        elif keyboard.is_pressed('w'):
            move_player('w')
        elif keyboard.is_pressed('d'):
            move_player('d')
        elif keyboard.is_pressed('a'):
            move_player('a')
        if keyboard.is_pressed('1'):
            place_ball_on_head()&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    # æ£€æŸ¥ sensor3 æ˜¯å¦æ„Ÿæµ‹åˆ°çƒ
    sensor_state = sim.readProximitySensor(sensor3)
    if sensor_state[0]:  # å¦‚æœæ„Ÿæµ‹åˆ°çƒ
        shoot()

    # æ·»åŠ çŸ­æš‚å»¶è¿Ÿï¼Œé¿å…å ç”¨è¿‡å¤šCPUèµ„æº
    time.sleep(0.01)

except KeyboardInterrupt:
    print(&amp;quot;Program interrupted&amp;quot;)
    break
except Exception as e:
    print(f&amp;quot;Error in main loop: {e}&amp;quot;)
    break
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="w15"></category><category term="w15"></category></entry></feed>